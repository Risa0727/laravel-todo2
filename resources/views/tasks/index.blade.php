@extends('layout')

@section('main')
    <div class='container'>
      <div class="row justify-content-center">
        <div class='col col-md-4'>
          <nav class="card">
            <div class='card-header'>Folder</div>
            <div class='card-body'>
              <a href='{{ route("folders.create")}}' class='btn btn-outline-secondary btn-block'>Add Folder</a>
            </div>
            <div class='list-group'>
              @foreach($folders as $folder)
                <a href="{{ route('tasks.index', ['id' => $folder->id ])}}"
                  class="list-group-item {{ $current_folder_id === $folder->id ? 'active' : '' }}">
                  {{ $folder->title }}
                </a>
              @endforeach
            </div>
          </nav><!-- card -->
        </div>
        <div class='column col-md-8'>
          <div class="card">
            <div class='card-header'>Task</div>
            <div class='card-body'>
              <div class='text-right'>
                <a href="{{ route('tasks.create', [ 'id' => $current_folder_id]) }}" class="btn btn-outline-secondary btn-block">Add Task</a>
              </div>
            </div>
            <table class='table'>
              <thead>
                <tr>
                  <th>Title</th>
                  <th>Status</th>
                  <th>Deadline</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                @foreach($tasks as $task)
                  <tr>
                    <td>{{ $task->title }}</td>
                    <td><span class='label'>{{ $task->status_label }}</span></td>
                    <td>{{ $task->formatted_due_date }}</td>
                    <td><a href='#'>Edit</a></td>
                  </tr>
                @endforeach
              </tbody>
            </table>
          </div><!-- card -->
        </div><!-- column col-md-8 -->
      </div>
    </div>
@endsection
